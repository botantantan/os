void printString(char *string);
void readString(char *string);
void readSector(char *buffer, int sector);
void writeSector(char *buffer, int sector);
int mod(int angka1,int angka2);
int div(int angak1, int angka2);
int main () {
  //0
  putInMemory(0xB000, 0x8000, ' ');
  putInMemory(0xB000, 0x8001, 0xA);
  putInMemory(0xB000, 0x8002, ',');
  putInMemory(0xB000, 0x8003, 0xA);
  putInMemory(0xB000, 0x8004, '-');
  putInMemory(0xB000, 0x8005, 0xA);
  putInMemory(0xB000, 0x8006, '-');
  putInMemory(0xB000, 0x8007, 0xA);
  putInMemory(0xB000, 0x8008, '.');
  putInMemory(0xB000, 0x8009, 0xA);
  putInMemory(0xB000, 0x800A, ' ');
  putInMemory(0xB000, 0x800B, 0xA);
  putInMemory(0xB000, 0x800C, ' ');
  putInMemory(0xB000, 0x800D, 0xA);
  putInMemory(0xB000, 0x800E, ' ');
  putInMemory(0xB000, 0x800F, 0xA);
  putInMemory(0xB000, 0x8010, ',');
  putInMemory(0xB000, 0x8011, 0xA);
  putInMemory(0xB000, 0x8012, '-');
  putInMemory(0xB000, 0x8013, 0xA);
  putInMemory(0xB000, 0x8014, '-');
  putInMemory(0xB000, 0x8015, 0xA);
  putInMemory(0xB000, 0x8016, '.');
  putInMemory(0xB000, 0x8017, 0xA);
  putInMemory(0xB000, 0x8018, '\n');
  putInMemory(0xB000, 0x8019, 0xA);

  //1
  putInMemory(0xB000, 0x8160, ' ');
  putInMemory(0xB000, 0x8161, 0xA);
  putInMemory(0xB000, 0x8162, '\\');
  putInMemory(0xB000, 0x8163, 0xA);
  putInMemory(0xB000, 0x8164, ' ');
  putInMemory(0xB000, 0x8165, 0xA);
  putInMemory(0xB000, 0x8166, ' ');
  putInMemory(0xB000, 0x8167, 0xA);
  putInMemory(0xB000, 0x8168, '/');
  putInMemory(0xB000, 0x8169, 0xA);
  putInMemory(0xB000, 0x816A, '~');
  putInMemory(0xB000, 0x816B, 0xA);
  putInMemory(0xB000, 0x816C, '-');
  putInMemory(0xB000, 0x816D, 0xA);
  putInMemory(0xB000, 0x816E, '\\');
  putInMemory(0xB000, 0x816F, 0xA);
  putInMemory(0xB000, 0x8170, ' ');
  putInMemory(0xB000, 0x8171, 0xA);
  putInMemory(0xB000, 0x8172, ' ');
  putInMemory(0xB000, 0x8173, 0xA);
  putInMemory(0xB000, 0x8174, '/');
  putInMemory(0xB000, 0x8175, 0xA);
  putInMemory(0xB000, 0x8176, '\n');
  putInMemory(0xB000, 0x8177, 0xA);


  //2
  putInMemory(0xB000, 0x8320, ' ');
  putInMemory(0xB000, 0x8321, 0xA);
  putInMemory(0xB000, 0x8322, ' ');
  putInMemory(0xB000, 0x8323, 0xA);
  putInMemory(0xB000, 0x8324, ')');
  putInMemory(0xB000, 0x8325, 0xA);
  putInMemory(0xB000, 0x8326, '\'');
  putInMemory(0xB000, 0x8327, 0xA);
  putInMemory(0xB000, 0x8328, ' ');
  putInMemory(0xB000, 0x8329, 0xA);
  putInMemory(0xB000, 0x832A, 'a');
  putInMemory(0xB000, 0x832B, 0xA);
  putInMemory(0xB000, 0x832C, ' ');
  putInMemory(0xB000, 0x832D, 0xA);
  putInMemory(0xB000, 0x832E, 'a');
  putInMemory(0xB000, 0x832F, 0xA);
  putInMemory(0xB000, 0x8330, '`');
  putInMemory(0xB000, 0x8331, 0xA);
  putInMemory(0xB000, 0x8332, '(');
  putInMemory(0xB000, 0x8333, '\n');
  putInMemory(0xB000, 0x8334, 0xA);


  //3
  putInMemory(0xB000, 0x8480, ' ');
  putInMemory(0xB000, 0x8481, 0xA);
  putInMemory(0xB000, 0x8482, '(');
  putInMemory(0xB000, 0x8483, 0xA);
  putInMemory(0xB000, 0x8484, ' ');
  putInMemory(0xB000, 0x8485, 0xA);
  putInMemory(0xB000, 0x8486, ' ');
  putInMemory(0xB000, 0x8487, 0xA);
  putInMemory(0xB000, 0x8488, ',');
  putInMemory(0xB000, 0x8489, 0xA);
  putInMemory(0xB000, 0x848A, '-');
  putInMemory(0xB000, 0x848B, 0xA);
  putInMemory(0xB000, 0x848C, '-');
  putInMemory(0xB000, 0x848D, 0xA);
  putInMemory(0xB000, 0x848E, '-');
  putInMemory(0xB000, 0x848F, 0xA);
  putInMemory(0xB000, 0x8490, '.');
  putInMemory(0xB000, 0x8491, 0xA);
  putInMemory(0xB000, 0x8492, ' ');
  putInMemory(0xB000, 0x8493, 0xA);
  putInMemory(0xB000, 0x8494, ' ');
  putInMemory(0xB000, 0x8495, 0xA);
  putInMemory(0xB000, 0x8496, ')');
  putInMemory(0xB000, 0x8497, 0xA);
  putInMemory(0xB000, 0x8498, '\n');
  putInMemory(0xB000, 0x8499, 0xA);


  //4
  putInMemory(0xB000, 0x8640, ' ');
  putInMemory(0xB000, 0x8641, 0xA);
  putInMemory(0xB000, 0x8642, ' ');
  putInMemory(0xB000, 0x8643, 0xA);
  putInMemory(0xB000, 0x8644, '`');
  putInMemory(0xB000, 0x8645, 0xA);
  putInMemory(0xB000, 0x8646, '(');
  putInMemory(0xB000, 0x8647, 0xA);
  putInMemory(0xB000, 0x8648, '_');
  putInMemory(0xB000, 0x8649, 0xA);
  putInMemory(0xB000, 0x864A, 'o');
  putInMemory(0xB000, 0x864B, 0xA);
  putInMemory(0xB000, 0x864C, '_');
  putInMemory(0xB000, 0x864D, 0xA);
  putInMemory(0xB000, 0x864E, 'o');
  putInMemory(0xB000, 0x864F, 0xA);
  putInMemory(0xB000, 0x8650, '_');
  putInMemory(0xB000, 0x8651, 0xA);
  putInMemory(0xB000, 0x8652, ')');
  putInMemory(0xB000, 0x8653, 0xA);
  putInMemory(0xB000, 0x8654, '\'');
  putInMemory(0xB000, 0x8655, 0xA);
  putInMemory(0xB000, 0x8056, '\n');
  putInMemory(0xB000, 0x8057, 0xA);


  printString("1 2 3 4 5");
  while (1);
}

void handleInterrupt21 (int AX, int BX, int CX, int DX) {}
void printString(char* string){
    int i;
    i = 0;
    while(string[i]!='\0'){
        interrupt(0x10,0xE00+string[i],0,0,0);
        i++;
    }
}
void readString(char* string){
    char in = interrupt(0x16,0,0,0,0);
    int kursor = 0;
    while(in != '\r'){
        if(in == '\b'){
            if(kursor>0){
                interrupt(0x10,0xE00 + '\b',0,0,0);
                interrupt(0x10,0xE00 + '\0',0,0,0);
                interrupt(0x10,0xE00 + '\b',0,0,0);
                kursor-=1;
            }
        }else{
            string[kursor] = in;
            interrupt(0x10,0xE00 + string[kursor],0,0,0);
            kursor+=1;
        }
        in = interrupt(0x16,0,0,0,0);
    }
    string[kursor] = '\0';
    interrupt(0x10,0xE00+'\n',0,0,0);
    interrupt(0x10,0xe00+'\r',0,0,0);

}

void readSector(char *buffer, int sector){
    interrupt(0x13, 0x201, buffer, div(sector, 36) * 0x100 + mod(sector, 18) + 1, mod(div(sector, 18), 2) * 0x100);
}

void writeSector(char *buffer, int sector){
    interrupt(0x13, 0x301, buffer, div(sector, 36) * 0x100 + mod(sector, 18) + 1, mod(div(sector, 18), 2) * 0x100);
}

int mod(int angka1, int angka2){
    while(angka1>angka2){
        angka1 -=angka2;
    }
    return angka1;
}

int div(int a, int b){
    return a/b;
}

